{"remainingRequest":"D:\\durry\\HBx\\HBworkplace\\EXAM_VUE\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\durry\\HBx\\HBworkplace\\EXAM_VUE\\src\\App.vue?vue&type=style&index=0&lang=css&","dependencies":[{"path":"D:\\durry\\HBx\\HBworkplace\\EXAM_VUE\\src\\App.vue","mtime":1606786489333},{"path":"D:\\durry\\HBx\\HBworkplace\\EXAM_VUE\\node_modules\\css-loader\\index.js","mtime":1606012747316},{"path":"D:\\durry\\HBx\\HBworkplace\\EXAM_VUE\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":1606012779311},{"path":"D:\\durry\\HBx\\HBworkplace\\EXAM_VUE\\node_modules\\postcss-loader\\src\\index.js","mtime":1606012782689},{"path":"D:\\durry\\HBx\\HBworkplace\\EXAM_VUE\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1606012761609},{"path":"D:\\durry\\HBx\\HBworkplace\\EXAM_VUE\\node_modules\\vue-loader\\lib\\index.js","mtime":1606012779294}],"contextDependencies":[],"result":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n#app {\n\tfont-family: 'Avenir', Helvetica, Arial, sans-serif;\n\t-webkit-font-smoothing: antialiased;\n\t-moz-osx-font-smoothing: grayscale;\n\ttext-align: center;\n\tcolor: #2c3e50;\n}\n",{"version":3,"sources":["App.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmFA;AACA;AACA;AACA;AACA;AACA;AACA","file":"App.vue","sourceRoot":"src","sourcesContent":["<template>\r\n\t<div id=\"app\">\r\n\t\t<router-view></router-view>\r\n\t</div>\r\n</template>\r\n<script>\r\n\timport Home from './components/Home.vue'\r\n\timport Login from './components/Login.vue'\r\n\timport Core from './components/Core.vue'\r\n\r\n\texport default {\r\n\t\tname: 'app',\r\n\t\tcomponents: {\r\n\t\t\tHome,\r\n\t\t\tLogin,\r\n\t\t\tCore\r\n\t\t},\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tisLogin: false,\r\n\t\t\t}\r\n\t\t},\r\n\t\tmounted() {\r\n\t\t\tthis.$axios.defaults.withCredentials = true\r\n\t\t\t//获取登录cookie\r\n\t\t\tthis.initPage()\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tinitPage() {\r\n\t\t\t\tthis.$axios({\r\n\t\t\t\t\turl: this.baseUrl + \"/initPage\",\r\n\t\t\t\t\tmethod: \"GET\",\r\n\t\t\t\t}).then(res => {\r\n\t\t\t\t\tif (res.data.E_BACKINFO == '0') {\r\n\t\t\t\t\t\t//已有登录状态  直接跳转个人页面\r\n\t\t\t\t\t\tthis.$router.push(\"/Home\")\r\n\t\t\t\t\t\tthis.isLogin = true\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\t//未登录 解析Cookie进行自动登录\r\n\t\t\t\t\t\tthis.cookieLogin()\r\n\t\t\t\t\t}\r\n\t\t\t\t}).catch(e => {\r\n\t\t\t\t\tconsole.log(\"网络异常\")\r\n\t\t\t\t\tthis.$router.push(\"/login\")\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tcookieLogin() {\r\n\t\t\t\tvar login_token = this.$cookie.get(\"EXAM_USER\")\r\n\t\t\t\tif (login_token == '' || login_token == undefined || login_token == null) {\r\n\t\t\t\t\tthis.$router.push(\"/login\")\r\n\t\t\t\t\treturn \r\n\t\t\t\t}\r\n\t\t\t\taxios({\r\n\t\t\t\t\turl:this.baseUrl+\"/AutoLogin\",\r\n\t\t\t\t\tmethod:\"POST\",\r\n\t\t\t\t\tparams:{\r\n\t\t\t\t\t\ttoken:login_token,\r\n\t\t\t\t\t}\r\n\t\t\t\t}).then(res=>{\r\n\t\t\t\t\tif (res.data.E_BACKINFO == '0') {\r\n\t\t\t\t\t\t//成功登录\r\n\t\t\t\t\t\tthis.$router.push(\"/Home\")\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\t//登录失败 跳转到登录界面\r\n\t\t\t\t\t\tthis.$router.push(\"/login\")\r\n\t\t\t\t\t}\r\n\t\t\t\t}).catch(e => {\r\n\t\t\t\t\tconsole.log(\"连接异常\")\r\n\t\t\t\t\tthis.$router.push(\"/login\")\r\n\t\t\t\t})\r\n\r\n\t\t\t},\r\n\t\t\tencrypt(token) {\r\n\t\t\t\treturn CryptoJS.AES.encrypt(token, CryptoJS.enc.Utf8.parse(aseKey), {\r\n\t\t\t\t\tmode: CryptoJS.mode.ECB,\r\n\t\t\t\t\tpadding: CryptoJS.pad.Pkcs7\r\n\t\t\t\t}).toString();\r\n\t\t\t},\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style>\r\n\t#app {\r\n\t\tfont-family: 'Avenir', Helvetica, Arial, sans-serif;\r\n\t\t-webkit-font-smoothing: antialiased;\r\n\t\t-moz-osx-font-smoothing: grayscale;\r\n\t\ttext-align: center;\r\n\t\tcolor: #2c3e50;\r\n\t}\r\n</style>\n"]}]}