{"remainingRequest":"D:\\durry\\HBx\\HBworkplace\\EXAM_VUE\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\durry\\HBx\\HBworkplace\\EXAM_VUE\\src\\components\\Login.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\durry\\HBx\\HBworkplace\\EXAM_VUE\\src\\components\\Login.vue","mtime":1606902503963},{"path":"D:\\durry\\HBx\\HBworkplace\\EXAM_VUE\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1606012761609},{"path":"D:\\durry\\HBx\\HBworkplace\\EXAM_VUE\\node_modules\\babel-loader\\lib\\index.js","mtime":1606012784177},{"path":"D:\\durry\\HBx\\HBworkplace\\EXAM_VUE\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1606012761609},{"path":"D:\\durry\\HBx\\HBworkplace\\EXAM_VUE\\node_modules\\vue-loader\\lib\\index.js","mtime":1606012779294}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nexport default {\n\tname: 'login',\n\tdata() {\n\t\tvar checkPhone = (rule, value, callback) => {\n\t\t\tif (this.activeLogin == 1 || this.activeLogin == 3) {\n\t\t\t\tif (!value) {\n\t\t\t\t\treturn callback(new Error('手机号不能为空'));\n\t\t\t\t}\n\t\t\t\tlet phoneCodeVerification = /^[1][3,4,5,7,8][0-9]{9}$/\n\t\t\t\tif (!phoneCodeVerification.test(value)) {\n\t\t\t\t\treturn callback(new Error('手机号格式有误'));\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tvar checkVcode = (rule, value, callback) => {\n\t\t\tif (this.activeLogin == 1 || this.activeLogin == 3) {\n\t\t\t\tif (value === '') {\n\t\t\t\t\tcallback(new Error('请输入验证码'));\n\t\t\t\t}\n\t\t\t\tif (value.length != 6) {\n\t\t\t\t\tcallback(new Error('验证码错误'));\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tvar checkUsername = (rule, value, callback) => {\n\t\t\tif (this.activeLogin == 2) {\n\t\t\t\tif (value === '') {\n\t\t\t\t\tcallback(new Error('请输入用户名'));\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tvar checkPwd = (rule, value, callback) => {\n\t\t\tif (this.activeLogin == 2 || this.activeLogin == 3) {\n\t\t\t\tif (value === '') {\n\t\t\t\t\tcallback(new Error('请输入密码'));\n\t\t\t\t}\n\t\t\t\tif (value.length > 12 || value.length < 6) {\n\t\t\t\t\tcallback(new Error('密码格式错误'));\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tvar checkCheck = (rule, value, callback) => {\n\t\t\tif (this.activeLogin == 3) {\n\t\t\t\tif (!value) {\n\t\t\t\t\tcallback(new Error('请先勾选协议'));\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn {\n\t\t\tactiveIndex: '1',\n\t\t\tactiveLogin: 1,\n\t\t\tquick_loading: false,\n\t\t\treg_loading: false,\n\t\t\tquickForm: {\n\t\t\t\tmobile: \"15974076596\",\n\t\t\t\tvcode: \"\",\n\t\t\t},\n\t\t\tloginForm: {\n\t\t\t\tusername: \"\",\n\t\t\t\tpassword: \"\",\n\t\t\t},\n\t\t\tregForm: {\n\t\t\t\tmobile: \"\",\n\t\t\t\tpassword: \"\",\n\t\t\t\tvcode: \"\",\n\t\t\t\tchecked: \"\",\n\t\t\t},\n\t\t\tquick_rules: {\n\t\t\t\tmobile: [{\n\t\t\t\t\tvalidator: checkPhone,\n\t\t\t\t\ttrigger: 'blur'\n\t\t\t\t}],\n\t\t\t\tvcode: [{\n\t\t\t\t\tvalidator: checkVcode,\n\t\t\t\t\ttrigger: 'blur'\n\t\t\t\t}]\n\t\t\t},\n\t\t\tlogin_rules: {\n\t\t\t\tusername: [{\n\t\t\t\t\tvalidator: checkUsername,\n\t\t\t\t\ttrigger: 'blur'\n\t\t\t\t}],\n\t\t\t\tpassword: [{\n\t\t\t\t\tvalidator: checkPwd,\n\t\t\t\t\ttrigger: 'blur'\n\t\t\t\t}],\n\t\t\t},\n\t\t\treg_rules: {\n\t\t\t\tmobile: [{\n\t\t\t\t\tvalidator: checkPhone,\n\t\t\t\t\ttrigger: 'blur'\n\t\t\t\t}],\n\t\t\t\tvcode: [{\n\t\t\t\t\tvalidator: checkVcode,\n\t\t\t\t\ttrigger: 'blur'\n\t\t\t\t}],\n\t\t\t\tpassword: [{\n\t\t\t\t\tvalidator: checkPwd,\n\t\t\t\t\ttrigger: 'blur'\n\t\t\t\t}],\n\t\t\t\tcheck: [{\n\t\t\t\t\tvalidator: checkCheck,\n\t\t\t\t\ttrigger: 'blur'\n\t\t\t\t}]\n\t\t\t},\n\t\t}\n\t},\n\tmounted() {\n\t\tthis.$axios.defaults.withCredentials = true\n\t},\n\tmethods: {\n\t\thandleSelect(key, keyPath) {\n\t\t\tconsole.log(key, keyPath);\n\t\t},\n\t\thandleClickTop(flag) {\n\t\t\tthis.activeLogin = flag\n\t\t},\n\t\t//快速登录\n\t\tquickLogin() {\n\t\t\t//验证\n\t\t\tthis.$refs['quickForm'].validate((valid) => {\n\t\t\t\tif (!valid) {\n\t\t\t\t\treturn\n\t\t\t\t}\n\t\t\t})\n\t\t\tthis.$axios({\n\t\t\t\turl: this.baseUrl + \"/access/quickLogin\",\n\t\t\t\tmethod: \"POST\",\n\t\t\t\tparams: this.quickForm\n\t\t\t}).then(res => {\n\t\t\t\tif (res.data.E_BACKSTATUS == '0') {\n\t\t\t\t\tthis.isLogin = true\n\t\t\t\t\tthis.hint(res.data.E_BACKINFO, \"success\")\n\t\t\t\t\t//1秒后跳转主页面\n\t\t\t\t\tlet _this = this\n\t\t\t\t\tsetTimeout(function() {\n\t\t\t\t\t\t_this.toHome()\n\t\t\t\t\t}, 1000)\n\t\t\t\t} else {\n\t\t\t\t\tthis.isLogin = false\n\t\t\t\t\tthis.hint(res.data.E_BACKINFO, \"error\")\n\t\t\t\t}\n\t\t\t})\n\t\t},\n\t\tdoLogin() {\n\t\t\t//验证\n\t\t\tthis.$refs['loginForm'].validate((valid) => {\n\t\t\t\tif (!valid) {\n\t\t\t\t\treturn\n\t\t\t\t}\n\t\t\t})\n\t\t\tthis.$axios({\n\t\t\t\turl: this.baseUrl + \"/doLogin\",\n\t\t\t\tmethod: \"POST\",\n\t\t\t\tparams: this.loginForm\n\t\t\t}).then(res => {\n\t\t\t\tif (res.data.E_BACKSTATUS == '0') {\n\t\t\t\t\tthis.isLogin = true\n\t\t\t\t} else {\n\t\t\t\t\tthis.isLogin = false\n\t\t\t\t}\n\t\t\t})\n\t\t},\n\t\tdoReg() {\n\t\t\t//验证\n\t\t\tthis.$refs['regForm'].validate((valid) => {\n\t\t\t\tif (!valid) {\n\t\t\t\t\treturn\n\t\t\t\t}\n\t\t\t})\n\t\t\tthis.$axios({\n\t\t\t\turl: this.baseUrl + \"/doLogin\",\n\t\t\t\tmethod: \"POST\",\n\t\t\t\tparams: this.regForm\n\t\t\t}).then(res => {\n\t\t\t\tif (res.data.E_BACKSTATUS == '0') {\n\t\t\t\t\tthis.isLogin = true\n\t\t\t\t} else {\n\t\t\t\t\tthis.isLogin = false\n\t\t\t\t}\n\t\t\t})\n\t\t},\n\t\ttoHome() {\n\t\t\tthis.$router.push(\"/EXAM\")\n\t\t},\n\t\tsendVcode(flag) {\n\t\t\tthis.quick_loading = (flag == 1) ? true : false\n\t\t\tvar mobile = (flag == 1) ? this.quickForm.mobile : this.regForm.mobile\n\t\t\tthis.$axios({\n\t\t\t\turl: this.baseUrl + \"/sendLoginVcode\",\n\t\t\t\tmethod: \"get\",\n\t\t\t\tparams: {\n\t\t\t\t\tmobile: mobile\n\t\t\t\t}\n\t\t\t}).then(res => {\n\t\t\t\tthis.quick_loading = false\n\t\t\t\tif (res.data.E_BACKSTATUS == '0') {\n\t\t\t\t\tthis.hint(\"验证码已发送\", \"success\")\n\t\t\t\t} else {\n\t\t\t\t\tthis.hint(\"发送验证码失败\", \"error\")\n\t\t\t\t}\n\t\t\t})\n\t\t},\n\t\thint(msg, type) {\n\t\t\tthis.$message({\n\t\t\t\tmessage: msg,\n\t\t\t\ttype: 20,\n\t\t\t\tduration: 900,\n\t\t\t\toffset: 25\n\t\t\t});\n\t\t}\n\t}\n}\n",{"version":3,"sources":["Login.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6IA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Login.vue","sourceRoot":"src/components","sourcesContent":["<template>\r\n\t<el-container>\r\n\t\t<el-header>\r\n\t\t\t<el-menu :default-active=\"activeIndex\" class=\"el-menu-demo\" mode=\"horizontal\">\r\n\t\t\t\t<el-menu-item index=\"1\"><span style=\"color:#6666FF\">登录 | EXAM考试平台</span></el-menu-item>\r\n\t\t\t</el-menu>\r\n\t\t</el-header>\r\n\t\t<el-main>\r\n\t\t\t<el-row>\r\n\t\t\t\t<el-col :span=\"12\" :offset=\"6\">\r\n\t\t\t\t\t<el-card shadow=\"always\">\r\n\t\t\t\t\t\t<el-button @click=\"handleClickTop(1)\" type=\"text\"><span v-show=\"activeLogin==1\" style=\"font-size: 20px;\">免密登录</span><span\r\n\t\t\t\t\t\t\t v-show=\"activeLogin!=1\">免密登录</span></el-button>\r\n\t\t\t\t\t\t<span style=\"font-size: 22px;\">/</span>\r\n\t\t\t\t\t\t<el-button @click=\"handleClickTop(2)\" type=\"text\"><span v-show=\"activeLogin==2\" style=\"font-size: 20px;\">账号密码登录</span><span\r\n\t\t\t\t\t\t\t v-show=\"activeLogin!=2\">账号密码登录</span></el-button>\r\n\t\t\t\t\t\t<span style=\"font-size: 22px;\">/</span>\r\n\t\t\t\t\t\t<el-button @click=\"handleClickTop(3)\" type=\"text\"><span v-show=\"activeLogin==3\" style=\"font-size: 20px;\">注册</span><span\r\n\t\t\t\t\t\t\t v-show=\"activeLogin!=3\">注册</span></el-button>\r\n\t\t\t\t\t</el-card>\r\n\t\t\t\t</el-col>\r\n\t\t\t\t<el-col :span=\"12\" :offset=\"6\">\r\n\t\t\t\t\t<!-- 快速登录 -->\r\n\t\t\t\t\t<el-card v-show=\"activeLogin==1\" shadow=\"always\" style=\"margin-top: 20px;height: 300px;\">\r\n\t\t\t\t\t\t<el-row>\r\n\t\t\t\t\t\t\t<el-col :span=\"15\" :offset=\"3\">\r\n\t\t\t\t\t\t\t\t<el-form ref=\"quickForm\" :rules=\"quick_rules\" :model=\"quickForm\" label-width=\"80px\" style=\"margin-top: 10px;\">\r\n\t\t\t\t\t\t\t\t\t<el-form-item prop=\"mobile\">\r\n\t\t\t\t\t\t\t\t\t\t<el-col :span=\"3\">\r\n\t\t\t\t\t\t\t\t\t\t\t<i class=\"el-icon-phone\"></i>\r\n\t\t\t\t\t\t\t\t\t\t</el-col>\r\n\t\t\t\t\t\t\t\t\t\t<el-col :span=\"21\">\r\n\t\t\t\t\t\t\t\t\t\t\t<el-input placeholder=\"输入手机号码\" v-model=\"quickForm.mobile\"></el-input>\r\n\t\t\t\t\t\t\t\t\t\t</el-col>\r\n\t\t\t\t\t\t\t\t\t</el-form-item>\r\n\t\t\t\t\t\t\t\t\t<el-form-item prop=\"vcode\">\r\n\t\t\t\t\t\t\t\t\t\t<el-col :span=\"3\">\r\n\t\t\t\t\t\t\t\t\t\t\t<i class=\"el-icon-s-promotion\"></i>\r\n\t\t\t\t\t\t\t\t\t\t</el-col>\r\n\t\t\t\t\t\t\t\t\t\t<el-col :span=\"12\">\r\n\t\t\t\t\t\t\t\t\t\t\t<el-input placeholder=\"请输入验证码\" v-model=\"quickForm.vcode\"></el-input>\r\n\t\t\t\t\t\t\t\t\t\t</el-col>\r\n\t\t\t\t\t\t\t\t\t\t<el-col :span=\"5\">\r\n\t\t\t\t\t\t\t\t\t\t\t<el-button type=\"primary\" style=\"margin-left: 8px;\" @click=\"sendVcode(1)\" :loading=\"quick_loading\">获取验证码</el-button>\r\n\t\t\t\t\t\t\t\t\t\t</el-col>\r\n\t\t\t\t\t\t\t\t\t</el-form-item>\r\n\t\t\t\t\t\t\t\t\t<el-form-item>\r\n\t\t\t\t\t\t\t\t\t\t<el-button type=\"success\" style=\"width: 90%;margin-left: 10%;\" @click=\"quickLogin\">快速登录</el-button>\r\n\t\t\t\t\t\t\t\t\t</el-form-item>\r\n\t\t\t\t\t\t\t\t</el-form>\r\n\t\t\t\t\t\t\t</el-col>\r\n\t\t\t\t\t\t</el-row>\r\n\t\t\t\t\t</el-card>\r\n\t\t\t\t\t<!-- 登录卡片 -->\r\n\t\t\t\t\t<el-card v-show=\"activeLogin==2\" shadow=\"always\" style=\"margin-top: 20px;\">\r\n\t\t\t\t\t\t<el-row>\r\n\t\t\t\t\t\t\t<el-col :span=\"12\" :offset=\"4\">\r\n\t\t\t\t\t\t\t\t<el-form ref=\"loginForm\" :rules=\"login_rules\" :model=\"loginForm\" label-width=\"80px\" style=\"margin-top: 10px;\">\r\n\t\t\t\t\t\t\t\t\t<el-form-item prop=\"username\">\r\n\t\t\t\t\t\t\t\t\t\t<el-col :span=\"3\">\r\n\t\t\t\t\t\t\t\t\t\t\t<i class=\"el-icon-user-solid\"></i>\r\n\t\t\t\t\t\t\t\t\t\t</el-col>\r\n\t\t\t\t\t\t\t\t\t\t<el-col :span=\"21\">\r\n\t\t\t\t\t\t\t\t\t\t\t<el-input placeholder=\"用户名/手机号/邮箱\" v-model=\"loginForm.username\"></el-input>\r\n\t\t\t\t\t\t\t\t\t\t</el-col>\r\n\t\t\t\t\t\t\t\t\t</el-form-item>\r\n\t\t\t\t\t\t\t\t\t<el-form-item prop=\"password\">\r\n\t\t\t\t\t\t\t\t\t\t<el-col :span=\"3\">\r\n\t\t\t\t\t\t\t\t\t\t\t<i class=\"el-icon-s-grid\"></i>\r\n\t\t\t\t\t\t\t\t\t\t</el-col>\r\n\t\t\t\t\t\t\t\t\t\t<el-col :span=\"21\">\r\n\t\t\t\t\t\t\t\t\t\t\t<el-input placeholder=\"请输入密码\" v-model=\"loginForm.password\" show-password></el-input>\r\n\t\t\t\t\t\t\t\t\t\t</el-col>\r\n\t\t\t\t\t\t\t\t\t</el-form-item>\r\n\t\t\t\t\t\t\t\t\t<el-form-item>\r\n\t\t\t\t\t\t\t\t\t\t<el-button type=\"danger\" style=\"width: 90%;margin-left: 10%;\" @click=\"doLogin()\">立即登录</el-button>\r\n\t\t\t\t\t\t\t\t\t</el-form-item>\r\n\t\t\t\t\t\t\t\t\t<el-form-item>\r\n\t\t\t\t\t\t\t\t\t\t<el-button type=\"text\" style=\"margin-left: 2px;\"><span style=\"font-size: 10px;\">忘记密码</span></el-button>\r\n\t\t\t\t\t\t\t\t\t</el-form-item>\r\n\t\t\t\t\t\t\t\t</el-form>\r\n\t\t\t\t\t\t\t</el-col>\r\n\t\t\t\t\t\t</el-row>\r\n\t\t\t\t\t</el-card>\r\n\t\t\t\t\t<!-- 注册卡片 -->\r\n\t\t\t\t\t<el-card v-show=\"activeLogin==3\" shadow=\"always\" style=\"margin-top: 20px;\">\r\n\t\t\t\t\t\t<el-row>\r\n\t\t\t\t\t\t\t<el-col :span=\"12\" :offset=\"4\">\r\n\t\t\t\t\t\t\t\t<el-form ref=\"regForm\" :rules=\"reg_rules\" :model=\"regForm\" label-width=\"80px\" style=\"margin-top: 10px;\">\r\n\t\t\t\t\t\t\t\t\t<el-form-item prop=\"mobile\">\r\n\t\t\t\t\t\t\t\t\t\t<el-col :span=\"3\">\r\n\t\t\t\t\t\t\t\t\t\t\t<i class=\"el-icon-phone\"></i>\r\n\t\t\t\t\t\t\t\t\t\t</el-col>\r\n\t\t\t\t\t\t\t\t\t\t<el-col :span=\"21\">\r\n\t\t\t\t\t\t\t\t\t\t\t<el-input placeholder=\"输入手机号码\" v-model=\"regForm.mobile\"></el-input>\r\n\t\t\t\t\t\t\t\t\t\t</el-col>\r\n\t\t\t\t\t\t\t\t\t</el-form-item>\r\n\t\t\t\t\t\t\t\t\t<el-form-item prop=\"password\">\r\n\t\t\t\t\t\t\t\t\t\t<el-col :span=\"3\">\r\n\t\t\t\t\t\t\t\t\t\t\t<i class=\"el-icon-s-grid\"></i>\r\n\t\t\t\t\t\t\t\t\t\t</el-col>\r\n\t\t\t\t\t\t\t\t\t\t<el-col :span=\"21\">\r\n\t\t\t\t\t\t\t\t\t\t\t<el-input placeholder=\"请输入密码\" v-model=\"regForm.password\" show-password></el-input>\r\n\t\t\t\t\t\t\t\t\t\t</el-col>\r\n\t\t\t\t\t\t\t\t\t</el-form-item>\r\n\t\t\t\t\t\t\t\t\t<el-form-item prop=\"vcode\">\r\n\t\t\t\t\t\t\t\t\t\t<el-col :span=\"3\">\r\n\t\t\t\t\t\t\t\t\t\t\t<i class=\"el-icon-s-promotion\"></i>\r\n\t\t\t\t\t\t\t\t\t\t</el-col>\r\n\t\t\t\t\t\t\t\t\t\t<el-col :span=\"14\">\r\n\t\t\t\t\t\t\t\t\t\t\t<el-input placeholder=\"请输入验证码\" v-model=\"regForm.vcode\"></el-input>\r\n\t\t\t\t\t\t\t\t\t\t</el-col>\r\n\t\t\t\t\t\t\t\t\t\t<el-col :span=\"5\">\r\n\t\t\t\t\t\t\t\t\t\t\t<el-button type=\"text\" style=\"margin-left: 8px;\">获取验证码</el-button>\r\n\t\t\t\t\t\t\t\t\t\t</el-col>\r\n\t\t\t\t\t\t\t\t\t</el-form-item>\r\n\t\t\t\t\t\t\t\t\t<el-form-item prop=\"check\">\r\n\t\t\t\t\t\t\t\t\t\t<el-checkbox v-model=\"regForm.checked\"><span style=\"font-size: 10px\">注册即表示同意EXAM考试平台各种乱七八糟的条约<i class=\"el-icon-question\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t style=\";margin-left: 3px;\"></i></span></el-checkbox>\r\n\t\t\t\t\t\t\t\t\t</el-form-item>\r\n\t\t\t\t\t\t\t\t\t<el-form-item>\r\n\t\t\t\t\t\t\t\t\t\t<el-button type=\"primary\" style=\"width: 90%;margin-left: 10%;\" @click=\"doReg\">立即注册</el-button>\r\n\t\t\t\t\t\t\t\t\t</el-form-item>\r\n\t\t\t\t\t\t\t\t</el-form>\r\n\t\t\t\t\t\t\t</el-col>\r\n\t\t\t\t\t\t</el-row>\r\n\t\t\t\t\t</el-card>\r\n\t\t\t\t</el-col>\r\n\t\t\t</el-row>\r\n\t\t</el-main>\r\n\t\t<!-- 底部 -->\r\n\t\t<el-footer>\r\n\t\t\t<div>\r\n\t\t\t\t<el-divider></el-divider>\r\n\t\t\t\t<span>©2020-2021 Durry. All rights reserved.</span>\r\n\t\t\t</div>\r\n\t\t</el-footer>\r\n\t</el-container>\r\n</template>\r\n\r\n<script>\r\n\texport default {\r\n\t\tname: 'login',\r\n\t\tdata() {\r\n\t\t\tvar checkPhone = (rule, value, callback) => {\r\n\t\t\t\tif (this.activeLogin == 1 || this.activeLogin == 3) {\r\n\t\t\t\t\tif (!value) {\r\n\t\t\t\t\t\treturn callback(new Error('手机号不能为空'));\r\n\t\t\t\t\t}\r\n\t\t\t\t\tlet phoneCodeVerification = /^[1][3,4,5,7,8][0-9]{9}$/\r\n\t\t\t\t\tif (!phoneCodeVerification.test(value)) {\r\n\t\t\t\t\t\treturn callback(new Error('手机号格式有误'));\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tvar checkVcode = (rule, value, callback) => {\r\n\t\t\t\tif (this.activeLogin == 1 || this.activeLogin == 3) {\r\n\t\t\t\t\tif (value === '') {\r\n\t\t\t\t\t\tcallback(new Error('请输入验证码'));\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (value.length != 6) {\r\n\t\t\t\t\t\tcallback(new Error('验证码错误'));\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tvar checkUsername = (rule, value, callback) => {\r\n\t\t\t\tif (this.activeLogin == 2) {\r\n\t\t\t\t\tif (value === '') {\r\n\t\t\t\t\t\tcallback(new Error('请输入用户名'));\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tvar checkPwd = (rule, value, callback) => {\r\n\t\t\t\tif (this.activeLogin == 2 || this.activeLogin == 3) {\r\n\t\t\t\t\tif (value === '') {\r\n\t\t\t\t\t\tcallback(new Error('请输入密码'));\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (value.length > 12 || value.length < 6) {\r\n\t\t\t\t\t\tcallback(new Error('密码格式错误'));\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tvar checkCheck = (rule, value, callback) => {\r\n\t\t\t\tif (this.activeLogin == 3) {\r\n\t\t\t\t\tif (!value) {\r\n\t\t\t\t\t\tcallback(new Error('请先勾选协议'));\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn {\r\n\t\t\t\tactiveIndex: '1',\r\n\t\t\t\tactiveLogin: 1,\r\n\t\t\t\tquick_loading: false,\r\n\t\t\t\treg_loading: false,\r\n\t\t\t\tquickForm: {\r\n\t\t\t\t\tmobile: \"15974076596\",\r\n\t\t\t\t\tvcode: \"\",\r\n\t\t\t\t},\r\n\t\t\t\tloginForm: {\r\n\t\t\t\t\tusername: \"\",\r\n\t\t\t\t\tpassword: \"\",\r\n\t\t\t\t},\r\n\t\t\t\tregForm: {\r\n\t\t\t\t\tmobile: \"\",\r\n\t\t\t\t\tpassword: \"\",\r\n\t\t\t\t\tvcode: \"\",\r\n\t\t\t\t\tchecked: \"\",\r\n\t\t\t\t},\r\n\t\t\t\tquick_rules: {\r\n\t\t\t\t\tmobile: [{\r\n\t\t\t\t\t\tvalidator: checkPhone,\r\n\t\t\t\t\t\ttrigger: 'blur'\r\n\t\t\t\t\t}],\r\n\t\t\t\t\tvcode: [{\r\n\t\t\t\t\t\tvalidator: checkVcode,\r\n\t\t\t\t\t\ttrigger: 'blur'\r\n\t\t\t\t\t}]\r\n\t\t\t\t},\r\n\t\t\t\tlogin_rules: {\r\n\t\t\t\t\tusername: [{\r\n\t\t\t\t\t\tvalidator: checkUsername,\r\n\t\t\t\t\t\ttrigger: 'blur'\r\n\t\t\t\t\t}],\r\n\t\t\t\t\tpassword: [{\r\n\t\t\t\t\t\tvalidator: checkPwd,\r\n\t\t\t\t\t\ttrigger: 'blur'\r\n\t\t\t\t\t}],\r\n\t\t\t\t},\r\n\t\t\t\treg_rules: {\r\n\t\t\t\t\tmobile: [{\r\n\t\t\t\t\t\tvalidator: checkPhone,\r\n\t\t\t\t\t\ttrigger: 'blur'\r\n\t\t\t\t\t}],\r\n\t\t\t\t\tvcode: [{\r\n\t\t\t\t\t\tvalidator: checkVcode,\r\n\t\t\t\t\t\ttrigger: 'blur'\r\n\t\t\t\t\t}],\r\n\t\t\t\t\tpassword: [{\r\n\t\t\t\t\t\tvalidator: checkPwd,\r\n\t\t\t\t\t\ttrigger: 'blur'\r\n\t\t\t\t\t}],\r\n\t\t\t\t\tcheck: [{\r\n\t\t\t\t\t\tvalidator: checkCheck,\r\n\t\t\t\t\t\ttrigger: 'blur'\r\n\t\t\t\t\t}]\r\n\t\t\t\t},\r\n\t\t\t}\r\n\t\t},\r\n\t\tmounted() {\r\n\t\t\tthis.$axios.defaults.withCredentials = true\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\thandleSelect(key, keyPath) {\r\n\t\t\t\tconsole.log(key, keyPath);\r\n\t\t\t},\r\n\t\t\thandleClickTop(flag) {\r\n\t\t\t\tthis.activeLogin = flag\r\n\t\t\t},\r\n\t\t\t//快速登录\r\n\t\t\tquickLogin() {\r\n\t\t\t\t//验证\r\n\t\t\t\tthis.$refs['quickForm'].validate((valid) => {\r\n\t\t\t\t\tif (!valid) {\r\n\t\t\t\t\t\treturn\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\tthis.$axios({\r\n\t\t\t\t\turl: this.baseUrl + \"/access/quickLogin\",\r\n\t\t\t\t\tmethod: \"POST\",\r\n\t\t\t\t\tparams: this.quickForm\r\n\t\t\t\t}).then(res => {\r\n\t\t\t\t\tif (res.data.E_BACKSTATUS == '0') {\r\n\t\t\t\t\t\tthis.isLogin = true\r\n\t\t\t\t\t\tthis.hint(res.data.E_BACKINFO, \"success\")\r\n\t\t\t\t\t\t//1秒后跳转主页面\r\n\t\t\t\t\t\tlet _this = this\r\n\t\t\t\t\t\tsetTimeout(function() {\r\n\t\t\t\t\t\t\t_this.toHome()\r\n\t\t\t\t\t\t}, 1000)\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthis.isLogin = false\r\n\t\t\t\t\t\tthis.hint(res.data.E_BACKINFO, \"error\")\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tdoLogin() {\r\n\t\t\t\t//验证\r\n\t\t\t\tthis.$refs['loginForm'].validate((valid) => {\r\n\t\t\t\t\tif (!valid) {\r\n\t\t\t\t\t\treturn\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\tthis.$axios({\r\n\t\t\t\t\turl: this.baseUrl + \"/doLogin\",\r\n\t\t\t\t\tmethod: \"POST\",\r\n\t\t\t\t\tparams: this.loginForm\r\n\t\t\t\t}).then(res => {\r\n\t\t\t\t\tif (res.data.E_BACKSTATUS == '0') {\r\n\t\t\t\t\t\tthis.isLogin = true\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthis.isLogin = false\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tdoReg() {\r\n\t\t\t\t//验证\r\n\t\t\t\tthis.$refs['regForm'].validate((valid) => {\r\n\t\t\t\t\tif (!valid) {\r\n\t\t\t\t\t\treturn\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\tthis.$axios({\r\n\t\t\t\t\turl: this.baseUrl + \"/doLogin\",\r\n\t\t\t\t\tmethod: \"POST\",\r\n\t\t\t\t\tparams: this.regForm\r\n\t\t\t\t}).then(res => {\r\n\t\t\t\t\tif (res.data.E_BACKSTATUS == '0') {\r\n\t\t\t\t\t\tthis.isLogin = true\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthis.isLogin = false\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\ttoHome() {\r\n\t\t\t\tthis.$router.push(\"/EXAM\")\r\n\t\t\t},\r\n\t\t\tsendVcode(flag) {\r\n\t\t\t\tthis.quick_loading = (flag == 1) ? true : false\r\n\t\t\t\tvar mobile = (flag == 1) ? this.quickForm.mobile : this.regForm.mobile\r\n\t\t\t\tthis.$axios({\r\n\t\t\t\t\turl: this.baseUrl + \"/sendLoginVcode\",\r\n\t\t\t\t\tmethod: \"get\",\r\n\t\t\t\t\tparams: {\r\n\t\t\t\t\t\tmobile: mobile\r\n\t\t\t\t\t}\r\n\t\t\t\t}).then(res => {\r\n\t\t\t\t\tthis.quick_loading = false\r\n\t\t\t\t\tif (res.data.E_BACKSTATUS == '0') {\r\n\t\t\t\t\t\tthis.hint(\"验证码已发送\", \"success\")\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthis.hint(\"发送验证码失败\", \"error\")\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\thint(msg, type) {\r\n\t\t\t\tthis.$message({\r\n\t\t\t\t\tmessage: msg,\r\n\t\t\t\t\ttype: 20,\r\n\t\t\t\t\tduration: 900,\r\n\t\t\t\t\toffset: 25\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style>\r\n</style>\n"]}]}