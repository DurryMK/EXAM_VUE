{"remainingRequest":"D:\\durry\\HBx\\HBworkplace\\EXAM_VUE\\node_modules\\babel-loader\\lib\\index.js!D:\\durry\\HBx\\HBworkplace\\EXAM_VUE\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\durry\\HBx\\HBworkplace\\EXAM_VUE\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\durry\\HBx\\HBworkplace\\EXAM_VUE\\src\\components\\Login.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\durry\\HBx\\HBworkplace\\EXAM_VUE\\src\\components\\Login.vue","mtime":1606902503963},{"path":"D:\\durry\\HBx\\HBworkplace\\EXAM_VUE\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1606012761609},{"path":"D:\\durry\\HBx\\HBworkplace\\EXAM_VUE\\node_modules\\babel-loader\\lib\\index.js","mtime":1606012784177},{"path":"D:\\durry\\HBx\\HBworkplace\\EXAM_VUE\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1606012761609},{"path":"D:\\durry\\HBx\\HBworkplace\\EXAM_VUE\\node_modules\\vue-loader\\lib\\index.js","mtime":1606012779294}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nexport default {\n  name: 'login',\n  data: function data() {\n    var _this2 = this;\n\n    var checkPhone = function checkPhone(rule, value, callback) {\n      if (_this2.activeLogin == 1 || _this2.activeLogin == 3) {\n        if (!value) {\n          return callback(new Error('手机号不能为空'));\n        }\n\n        var phoneCodeVerification = /^[1][3,4,5,7,8][0-9]{9}$/;\n\n        if (!phoneCodeVerification.test(value)) {\n          return callback(new Error('手机号格式有误'));\n        }\n      }\n    };\n\n    var checkVcode = function checkVcode(rule, value, callback) {\n      if (_this2.activeLogin == 1 || _this2.activeLogin == 3) {\n        if (value === '') {\n          callback(new Error('请输入验证码'));\n        }\n\n        if (value.length != 6) {\n          callback(new Error('验证码错误'));\n        }\n      }\n    };\n\n    var checkUsername = function checkUsername(rule, value, callback) {\n      if (_this2.activeLogin == 2) {\n        if (value === '') {\n          callback(new Error('请输入用户名'));\n        }\n      }\n    };\n\n    var checkPwd = function checkPwd(rule, value, callback) {\n      if (_this2.activeLogin == 2 || _this2.activeLogin == 3) {\n        if (value === '') {\n          callback(new Error('请输入密码'));\n        }\n\n        if (value.length > 12 || value.length < 6) {\n          callback(new Error('密码格式错误'));\n        }\n      }\n    };\n\n    var checkCheck = function checkCheck(rule, value, callback) {\n      if (_this2.activeLogin == 3) {\n        if (!value) {\n          callback(new Error('请先勾选协议'));\n        }\n      }\n    };\n\n    return {\n      activeIndex: '1',\n      activeLogin: 1,\n      quick_loading: false,\n      reg_loading: false,\n      quickForm: {\n        mobile: \"15974076596\",\n        vcode: \"\"\n      },\n      loginForm: {\n        username: \"\",\n        password: \"\"\n      },\n      regForm: {\n        mobile: \"\",\n        password: \"\",\n        vcode: \"\",\n        checked: \"\"\n      },\n      quick_rules: {\n        mobile: [{\n          validator: checkPhone,\n          trigger: 'blur'\n        }],\n        vcode: [{\n          validator: checkVcode,\n          trigger: 'blur'\n        }]\n      },\n      login_rules: {\n        username: [{\n          validator: checkUsername,\n          trigger: 'blur'\n        }],\n        password: [{\n          validator: checkPwd,\n          trigger: 'blur'\n        }]\n      },\n      reg_rules: {\n        mobile: [{\n          validator: checkPhone,\n          trigger: 'blur'\n        }],\n        vcode: [{\n          validator: checkVcode,\n          trigger: 'blur'\n        }],\n        password: [{\n          validator: checkPwd,\n          trigger: 'blur'\n        }],\n        check: [{\n          validator: checkCheck,\n          trigger: 'blur'\n        }]\n      }\n    };\n  },\n  mounted: function mounted() {\n    this.$axios.defaults.withCredentials = true;\n  },\n  methods: {\n    handleSelect: function handleSelect(key, keyPath) {\n      console.log(key, keyPath);\n    },\n    handleClickTop: function handleClickTop(flag) {\n      this.activeLogin = flag;\n    },\n    //快速登录\n    quickLogin: function quickLogin() {\n      var _this3 = this;\n\n      //验证\n      this.$refs['quickForm'].validate(function (valid) {\n        if (!valid) {\n          return;\n        }\n      });\n      this.$axios({\n        url: this.baseUrl + \"/access/quickLogin\",\n        method: \"POST\",\n        params: this.quickForm\n      }).then(function (res) {\n        if (res.data.E_BACKSTATUS == '0') {\n          _this3.isLogin = true;\n\n          _this3.hint(res.data.E_BACKINFO, \"success\"); //1秒后跳转主页面\n\n\n          var _this = _this3;\n          setTimeout(function () {\n            _this.toHome();\n          }, 1000);\n        } else {\n          _this3.isLogin = false;\n\n          _this3.hint(res.data.E_BACKINFO, \"error\");\n        }\n      });\n    },\n    doLogin: function doLogin() {\n      var _this4 = this;\n\n      //验证\n      this.$refs['loginForm'].validate(function (valid) {\n        if (!valid) {\n          return;\n        }\n      });\n      this.$axios({\n        url: this.baseUrl + \"/doLogin\",\n        method: \"POST\",\n        params: this.loginForm\n      }).then(function (res) {\n        if (res.data.E_BACKSTATUS == '0') {\n          _this4.isLogin = true;\n        } else {\n          _this4.isLogin = false;\n        }\n      });\n    },\n    doReg: function doReg() {\n      var _this5 = this;\n\n      //验证\n      this.$refs['regForm'].validate(function (valid) {\n        if (!valid) {\n          return;\n        }\n      });\n      this.$axios({\n        url: this.baseUrl + \"/doLogin\",\n        method: \"POST\",\n        params: this.regForm\n      }).then(function (res) {\n        if (res.data.E_BACKSTATUS == '0') {\n          _this5.isLogin = true;\n        } else {\n          _this5.isLogin = false;\n        }\n      });\n    },\n    toHome: function toHome() {\n      this.$router.push(\"/EXAM\");\n    },\n    sendVcode: function sendVcode(flag) {\n      var _this6 = this;\n\n      this.quick_loading = flag == 1 ? true : false;\n      var mobile = flag == 1 ? this.quickForm.mobile : this.regForm.mobile;\n      this.$axios({\n        url: this.baseUrl + \"/sendLoginVcode\",\n        method: \"get\",\n        params: {\n          mobile: mobile\n        }\n      }).then(function (res) {\n        _this6.quick_loading = false;\n\n        if (res.data.E_BACKSTATUS == '0') {\n          _this6.hint(\"验证码已发送\", \"success\");\n        } else {\n          _this6.hint(\"发送验证码失败\", \"error\");\n        }\n      });\n    },\n    hint: function hint(msg, type) {\n      this.$message({\n        message: msg,\n        type: 20,\n        duration: 900,\n        offset: 25\n      });\n    }\n  }\n};",{"version":3,"sources":["Login.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n\t<el-container>\r\n\t\t<el-header>\r\n\t\t\t<el-menu :default-active=\"activeIndex\" class=\"el-menu-demo\" mode=\"horizontal\">\r\n\t\t\t\t<el-menu-item index=\"1\"><span style=\"color:#6666FF\">登录 | EXAM考试平台</span></el-menu-item>\r\n\t\t\t</el-menu>\r\n\t\t</el-header>\r\n\t\t<el-main>\r\n\t\t\t<el-row>\r\n\t\t\t\t<el-col :span=\"12\" :offset=\"6\">\r\n\t\t\t\t\t<el-card shadow=\"always\">\r\n\t\t\t\t\t\t<el-button @click=\"handleClickTop(1)\" type=\"text\"><span v-show=\"activeLogin==1\" style=\"font-size: 20px;\">免密登录</span><span\r\n\t\t\t\t\t\t\t v-show=\"activeLogin!=1\">免密登录</span></el-button>\r\n\t\t\t\t\t\t<span style=\"font-size: 22px;\">/</span>\r\n\t\t\t\t\t\t<el-button @click=\"handleClickTop(2)\" type=\"text\"><span v-show=\"activeLogin==2\" style=\"font-size: 20px;\">账号密码登录</span><span\r\n\t\t\t\t\t\t\t v-show=\"activeLogin!=2\">账号密码登录</span></el-button>\r\n\t\t\t\t\t\t<span style=\"font-size: 22px;\">/</span>\r\n\t\t\t\t\t\t<el-button @click=\"handleClickTop(3)\" type=\"text\"><span v-show=\"activeLogin==3\" style=\"font-size: 20px;\">注册</span><span\r\n\t\t\t\t\t\t\t v-show=\"activeLogin!=3\">注册</span></el-button>\r\n\t\t\t\t\t</el-card>\r\n\t\t\t\t</el-col>\r\n\t\t\t\t<el-col :span=\"12\" :offset=\"6\">\r\n\t\t\t\t\t<!-- 快速登录 -->\r\n\t\t\t\t\t<el-card v-show=\"activeLogin==1\" shadow=\"always\" style=\"margin-top: 20px;height: 300px;\">\r\n\t\t\t\t\t\t<el-row>\r\n\t\t\t\t\t\t\t<el-col :span=\"15\" :offset=\"3\">\r\n\t\t\t\t\t\t\t\t<el-form ref=\"quickForm\" :rules=\"quick_rules\" :model=\"quickForm\" label-width=\"80px\" style=\"margin-top: 10px;\">\r\n\t\t\t\t\t\t\t\t\t<el-form-item prop=\"mobile\">\r\n\t\t\t\t\t\t\t\t\t\t<el-col :span=\"3\">\r\n\t\t\t\t\t\t\t\t\t\t\t<i class=\"el-icon-phone\"></i>\r\n\t\t\t\t\t\t\t\t\t\t</el-col>\r\n\t\t\t\t\t\t\t\t\t\t<el-col :span=\"21\">\r\n\t\t\t\t\t\t\t\t\t\t\t<el-input placeholder=\"输入手机号码\" v-model=\"quickForm.mobile\"></el-input>\r\n\t\t\t\t\t\t\t\t\t\t</el-col>\r\n\t\t\t\t\t\t\t\t\t</el-form-item>\r\n\t\t\t\t\t\t\t\t\t<el-form-item prop=\"vcode\">\r\n\t\t\t\t\t\t\t\t\t\t<el-col :span=\"3\">\r\n\t\t\t\t\t\t\t\t\t\t\t<i class=\"el-icon-s-promotion\"></i>\r\n\t\t\t\t\t\t\t\t\t\t</el-col>\r\n\t\t\t\t\t\t\t\t\t\t<el-col :span=\"12\">\r\n\t\t\t\t\t\t\t\t\t\t\t<el-input placeholder=\"请输入验证码\" v-model=\"quickForm.vcode\"></el-input>\r\n\t\t\t\t\t\t\t\t\t\t</el-col>\r\n\t\t\t\t\t\t\t\t\t\t<el-col :span=\"5\">\r\n\t\t\t\t\t\t\t\t\t\t\t<el-button type=\"primary\" style=\"margin-left: 8px;\" @click=\"sendVcode(1)\" :loading=\"quick_loading\">获取验证码</el-button>\r\n\t\t\t\t\t\t\t\t\t\t</el-col>\r\n\t\t\t\t\t\t\t\t\t</el-form-item>\r\n\t\t\t\t\t\t\t\t\t<el-form-item>\r\n\t\t\t\t\t\t\t\t\t\t<el-button type=\"success\" style=\"width: 90%;margin-left: 10%;\" @click=\"quickLogin\">快速登录</el-button>\r\n\t\t\t\t\t\t\t\t\t</el-form-item>\r\n\t\t\t\t\t\t\t\t</el-form>\r\n\t\t\t\t\t\t\t</el-col>\r\n\t\t\t\t\t\t</el-row>\r\n\t\t\t\t\t</el-card>\r\n\t\t\t\t\t<!-- 登录卡片 -->\r\n\t\t\t\t\t<el-card v-show=\"activeLogin==2\" shadow=\"always\" style=\"margin-top: 20px;\">\r\n\t\t\t\t\t\t<el-row>\r\n\t\t\t\t\t\t\t<el-col :span=\"12\" :offset=\"4\">\r\n\t\t\t\t\t\t\t\t<el-form ref=\"loginForm\" :rules=\"login_rules\" :model=\"loginForm\" label-width=\"80px\" style=\"margin-top: 10px;\">\r\n\t\t\t\t\t\t\t\t\t<el-form-item prop=\"username\">\r\n\t\t\t\t\t\t\t\t\t\t<el-col :span=\"3\">\r\n\t\t\t\t\t\t\t\t\t\t\t<i class=\"el-icon-user-solid\"></i>\r\n\t\t\t\t\t\t\t\t\t\t</el-col>\r\n\t\t\t\t\t\t\t\t\t\t<el-col :span=\"21\">\r\n\t\t\t\t\t\t\t\t\t\t\t<el-input placeholder=\"用户名/手机号/邮箱\" v-model=\"loginForm.username\"></el-input>\r\n\t\t\t\t\t\t\t\t\t\t</el-col>\r\n\t\t\t\t\t\t\t\t\t</el-form-item>\r\n\t\t\t\t\t\t\t\t\t<el-form-item prop=\"password\">\r\n\t\t\t\t\t\t\t\t\t\t<el-col :span=\"3\">\r\n\t\t\t\t\t\t\t\t\t\t\t<i class=\"el-icon-s-grid\"></i>\r\n\t\t\t\t\t\t\t\t\t\t</el-col>\r\n\t\t\t\t\t\t\t\t\t\t<el-col :span=\"21\">\r\n\t\t\t\t\t\t\t\t\t\t\t<el-input placeholder=\"请输入密码\" v-model=\"loginForm.password\" show-password></el-input>\r\n\t\t\t\t\t\t\t\t\t\t</el-col>\r\n\t\t\t\t\t\t\t\t\t</el-form-item>\r\n\t\t\t\t\t\t\t\t\t<el-form-item>\r\n\t\t\t\t\t\t\t\t\t\t<el-button type=\"danger\" style=\"width: 90%;margin-left: 10%;\" @click=\"doLogin()\">立即登录</el-button>\r\n\t\t\t\t\t\t\t\t\t</el-form-item>\r\n\t\t\t\t\t\t\t\t\t<el-form-item>\r\n\t\t\t\t\t\t\t\t\t\t<el-button type=\"text\" style=\"margin-left: 2px;\"><span style=\"font-size: 10px;\">忘记密码</span></el-button>\r\n\t\t\t\t\t\t\t\t\t</el-form-item>\r\n\t\t\t\t\t\t\t\t</el-form>\r\n\t\t\t\t\t\t\t</el-col>\r\n\t\t\t\t\t\t</el-row>\r\n\t\t\t\t\t</el-card>\r\n\t\t\t\t\t<!-- 注册卡片 -->\r\n\t\t\t\t\t<el-card v-show=\"activeLogin==3\" shadow=\"always\" style=\"margin-top: 20px;\">\r\n\t\t\t\t\t\t<el-row>\r\n\t\t\t\t\t\t\t<el-col :span=\"12\" :offset=\"4\">\r\n\t\t\t\t\t\t\t\t<el-form ref=\"regForm\" :rules=\"reg_rules\" :model=\"regForm\" label-width=\"80px\" style=\"margin-top: 10px;\">\r\n\t\t\t\t\t\t\t\t\t<el-form-item prop=\"mobile\">\r\n\t\t\t\t\t\t\t\t\t\t<el-col :span=\"3\">\r\n\t\t\t\t\t\t\t\t\t\t\t<i class=\"el-icon-phone\"></i>\r\n\t\t\t\t\t\t\t\t\t\t</el-col>\r\n\t\t\t\t\t\t\t\t\t\t<el-col :span=\"21\">\r\n\t\t\t\t\t\t\t\t\t\t\t<el-input placeholder=\"输入手机号码\" v-model=\"regForm.mobile\"></el-input>\r\n\t\t\t\t\t\t\t\t\t\t</el-col>\r\n\t\t\t\t\t\t\t\t\t</el-form-item>\r\n\t\t\t\t\t\t\t\t\t<el-form-item prop=\"password\">\r\n\t\t\t\t\t\t\t\t\t\t<el-col :span=\"3\">\r\n\t\t\t\t\t\t\t\t\t\t\t<i class=\"el-icon-s-grid\"></i>\r\n\t\t\t\t\t\t\t\t\t\t</el-col>\r\n\t\t\t\t\t\t\t\t\t\t<el-col :span=\"21\">\r\n\t\t\t\t\t\t\t\t\t\t\t<el-input placeholder=\"请输入密码\" v-model=\"regForm.password\" show-password></el-input>\r\n\t\t\t\t\t\t\t\t\t\t</el-col>\r\n\t\t\t\t\t\t\t\t\t</el-form-item>\r\n\t\t\t\t\t\t\t\t\t<el-form-item prop=\"vcode\">\r\n\t\t\t\t\t\t\t\t\t\t<el-col :span=\"3\">\r\n\t\t\t\t\t\t\t\t\t\t\t<i class=\"el-icon-s-promotion\"></i>\r\n\t\t\t\t\t\t\t\t\t\t</el-col>\r\n\t\t\t\t\t\t\t\t\t\t<el-col :span=\"14\">\r\n\t\t\t\t\t\t\t\t\t\t\t<el-input placeholder=\"请输入验证码\" v-model=\"regForm.vcode\"></el-input>\r\n\t\t\t\t\t\t\t\t\t\t</el-col>\r\n\t\t\t\t\t\t\t\t\t\t<el-col :span=\"5\">\r\n\t\t\t\t\t\t\t\t\t\t\t<el-button type=\"text\" style=\"margin-left: 8px;\">获取验证码</el-button>\r\n\t\t\t\t\t\t\t\t\t\t</el-col>\r\n\t\t\t\t\t\t\t\t\t</el-form-item>\r\n\t\t\t\t\t\t\t\t\t<el-form-item prop=\"check\">\r\n\t\t\t\t\t\t\t\t\t\t<el-checkbox v-model=\"regForm.checked\"><span style=\"font-size: 10px\">注册即表示同意EXAM考试平台各种乱七八糟的条约<i class=\"el-icon-question\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t style=\";margin-left: 3px;\"></i></span></el-checkbox>\r\n\t\t\t\t\t\t\t\t\t</el-form-item>\r\n\t\t\t\t\t\t\t\t\t<el-form-item>\r\n\t\t\t\t\t\t\t\t\t\t<el-button type=\"primary\" style=\"width: 90%;margin-left: 10%;\" @click=\"doReg\">立即注册</el-button>\r\n\t\t\t\t\t\t\t\t\t</el-form-item>\r\n\t\t\t\t\t\t\t\t</el-form>\r\n\t\t\t\t\t\t\t</el-col>\r\n\t\t\t\t\t\t</el-row>\r\n\t\t\t\t\t</el-card>\r\n\t\t\t\t</el-col>\r\n\t\t\t</el-row>\r\n\t\t</el-main>\r\n\t\t<!-- 底部 -->\r\n\t\t<el-footer>\r\n\t\t\t<div>\r\n\t\t\t\t<el-divider></el-divider>\r\n\t\t\t\t<span>©2020-2021 Durry. All rights reserved.</span>\r\n\t\t\t</div>\r\n\t\t</el-footer>\r\n\t</el-container>\r\n</template>\r\n\r\n<script>\r\n\texport default {\r\n\t\tname: 'login',\r\n\t\tdata() {\r\n\t\t\tvar checkPhone = (rule, value, callback) => {\r\n\t\t\t\tif (this.activeLogin == 1 || this.activeLogin == 3) {\r\n\t\t\t\t\tif (!value) {\r\n\t\t\t\t\t\treturn callback(new Error('手机号不能为空'));\r\n\t\t\t\t\t}\r\n\t\t\t\t\tlet phoneCodeVerification = /^[1][3,4,5,7,8][0-9]{9}$/\r\n\t\t\t\t\tif (!phoneCodeVerification.test(value)) {\r\n\t\t\t\t\t\treturn callback(new Error('手机号格式有误'));\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tvar checkVcode = (rule, value, callback) => {\r\n\t\t\t\tif (this.activeLogin == 1 || this.activeLogin == 3) {\r\n\t\t\t\t\tif (value === '') {\r\n\t\t\t\t\t\tcallback(new Error('请输入验证码'));\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (value.length != 6) {\r\n\t\t\t\t\t\tcallback(new Error('验证码错误'));\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tvar checkUsername = (rule, value, callback) => {\r\n\t\t\t\tif (this.activeLogin == 2) {\r\n\t\t\t\t\tif (value === '') {\r\n\t\t\t\t\t\tcallback(new Error('请输入用户名'));\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tvar checkPwd = (rule, value, callback) => {\r\n\t\t\t\tif (this.activeLogin == 2 || this.activeLogin == 3) {\r\n\t\t\t\t\tif (value === '') {\r\n\t\t\t\t\t\tcallback(new Error('请输入密码'));\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (value.length > 12 || value.length < 6) {\r\n\t\t\t\t\t\tcallback(new Error('密码格式错误'));\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tvar checkCheck = (rule, value, callback) => {\r\n\t\t\t\tif (this.activeLogin == 3) {\r\n\t\t\t\t\tif (!value) {\r\n\t\t\t\t\t\tcallback(new Error('请先勾选协议'));\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn {\r\n\t\t\t\tactiveIndex: '1',\r\n\t\t\t\tactiveLogin: 1,\r\n\t\t\t\tquick_loading: false,\r\n\t\t\t\treg_loading: false,\r\n\t\t\t\tquickForm: {\r\n\t\t\t\t\tmobile: \"15974076596\",\r\n\t\t\t\t\tvcode: \"\",\r\n\t\t\t\t},\r\n\t\t\t\tloginForm: {\r\n\t\t\t\t\tusername: \"\",\r\n\t\t\t\t\tpassword: \"\",\r\n\t\t\t\t},\r\n\t\t\t\tregForm: {\r\n\t\t\t\t\tmobile: \"\",\r\n\t\t\t\t\tpassword: \"\",\r\n\t\t\t\t\tvcode: \"\",\r\n\t\t\t\t\tchecked: \"\",\r\n\t\t\t\t},\r\n\t\t\t\tquick_rules: {\r\n\t\t\t\t\tmobile: [{\r\n\t\t\t\t\t\tvalidator: checkPhone,\r\n\t\t\t\t\t\ttrigger: 'blur'\r\n\t\t\t\t\t}],\r\n\t\t\t\t\tvcode: [{\r\n\t\t\t\t\t\tvalidator: checkVcode,\r\n\t\t\t\t\t\ttrigger: 'blur'\r\n\t\t\t\t\t}]\r\n\t\t\t\t},\r\n\t\t\t\tlogin_rules: {\r\n\t\t\t\t\tusername: [{\r\n\t\t\t\t\t\tvalidator: checkUsername,\r\n\t\t\t\t\t\ttrigger: 'blur'\r\n\t\t\t\t\t}],\r\n\t\t\t\t\tpassword: [{\r\n\t\t\t\t\t\tvalidator: checkPwd,\r\n\t\t\t\t\t\ttrigger: 'blur'\r\n\t\t\t\t\t}],\r\n\t\t\t\t},\r\n\t\t\t\treg_rules: {\r\n\t\t\t\t\tmobile: [{\r\n\t\t\t\t\t\tvalidator: checkPhone,\r\n\t\t\t\t\t\ttrigger: 'blur'\r\n\t\t\t\t\t}],\r\n\t\t\t\t\tvcode: [{\r\n\t\t\t\t\t\tvalidator: checkVcode,\r\n\t\t\t\t\t\ttrigger: 'blur'\r\n\t\t\t\t\t}],\r\n\t\t\t\t\tpassword: [{\r\n\t\t\t\t\t\tvalidator: checkPwd,\r\n\t\t\t\t\t\ttrigger: 'blur'\r\n\t\t\t\t\t}],\r\n\t\t\t\t\tcheck: [{\r\n\t\t\t\t\t\tvalidator: checkCheck,\r\n\t\t\t\t\t\ttrigger: 'blur'\r\n\t\t\t\t\t}]\r\n\t\t\t\t},\r\n\t\t\t}\r\n\t\t},\r\n\t\tmounted() {\r\n\t\t\tthis.$axios.defaults.withCredentials = true\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\thandleSelect(key, keyPath) {\r\n\t\t\t\tconsole.log(key, keyPath);\r\n\t\t\t},\r\n\t\t\thandleClickTop(flag) {\r\n\t\t\t\tthis.activeLogin = flag\r\n\t\t\t},\r\n\t\t\t//快速登录\r\n\t\t\tquickLogin() {\r\n\t\t\t\t//验证\r\n\t\t\t\tthis.$refs['quickForm'].validate((valid) => {\r\n\t\t\t\t\tif (!valid) {\r\n\t\t\t\t\t\treturn\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\tthis.$axios({\r\n\t\t\t\t\turl: this.baseUrl + \"/access/quickLogin\",\r\n\t\t\t\t\tmethod: \"POST\",\r\n\t\t\t\t\tparams: this.quickForm\r\n\t\t\t\t}).then(res => {\r\n\t\t\t\t\tif (res.data.E_BACKSTATUS == '0') {\r\n\t\t\t\t\t\tthis.isLogin = true\r\n\t\t\t\t\t\tthis.hint(res.data.E_BACKINFO, \"success\")\r\n\t\t\t\t\t\t//1秒后跳转主页面\r\n\t\t\t\t\t\tlet _this = this\r\n\t\t\t\t\t\tsetTimeout(function() {\r\n\t\t\t\t\t\t\t_this.toHome()\r\n\t\t\t\t\t\t}, 1000)\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthis.isLogin = false\r\n\t\t\t\t\t\tthis.hint(res.data.E_BACKINFO, \"error\")\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tdoLogin() {\r\n\t\t\t\t//验证\r\n\t\t\t\tthis.$refs['loginForm'].validate((valid) => {\r\n\t\t\t\t\tif (!valid) {\r\n\t\t\t\t\t\treturn\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\tthis.$axios({\r\n\t\t\t\t\turl: this.baseUrl + \"/doLogin\",\r\n\t\t\t\t\tmethod: \"POST\",\r\n\t\t\t\t\tparams: this.loginForm\r\n\t\t\t\t}).then(res => {\r\n\t\t\t\t\tif (res.data.E_BACKSTATUS == '0') {\r\n\t\t\t\t\t\tthis.isLogin = true\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthis.isLogin = false\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tdoReg() {\r\n\t\t\t\t//验证\r\n\t\t\t\tthis.$refs['regForm'].validate((valid) => {\r\n\t\t\t\t\tif (!valid) {\r\n\t\t\t\t\t\treturn\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\tthis.$axios({\r\n\t\t\t\t\turl: this.baseUrl + \"/doLogin\",\r\n\t\t\t\t\tmethod: \"POST\",\r\n\t\t\t\t\tparams: this.regForm\r\n\t\t\t\t}).then(res => {\r\n\t\t\t\t\tif (res.data.E_BACKSTATUS == '0') {\r\n\t\t\t\t\t\tthis.isLogin = true\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthis.isLogin = false\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\ttoHome() {\r\n\t\t\t\tthis.$router.push(\"/EXAM\")\r\n\t\t\t},\r\n\t\t\tsendVcode(flag) {\r\n\t\t\t\tthis.quick_loading = (flag == 1) ? true : false\r\n\t\t\t\tvar mobile = (flag == 1) ? this.quickForm.mobile : this.regForm.mobile\r\n\t\t\t\tthis.$axios({\r\n\t\t\t\t\turl: this.baseUrl + \"/sendLoginVcode\",\r\n\t\t\t\t\tmethod: \"get\",\r\n\t\t\t\t\tparams: {\r\n\t\t\t\t\t\tmobile: mobile\r\n\t\t\t\t\t}\r\n\t\t\t\t}).then(res => {\r\n\t\t\t\t\tthis.quick_loading = false\r\n\t\t\t\t\tif (res.data.E_BACKSTATUS == '0') {\r\n\t\t\t\t\t\tthis.hint(\"验证码已发送\", \"success\")\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthis.hint(\"发送验证码失败\", \"error\")\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\thint(msg, type) {\r\n\t\t\t\tthis.$message({\r\n\t\t\t\t\tmessage: msg,\r\n\t\t\t\t\ttype: 20,\r\n\t\t\t\t\tduration: 900,\r\n\t\t\t\t\toffset: 25\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style>\r\n</style>\n"],"sourceRoot":"src/components"}]}